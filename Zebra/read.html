<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <title>read</title>
    <script>
        const getBno = () => {
            const bno = parseInt(location.search.substr(5));
            if (isNaN(bno)) {
                location.href = '/Zebra/list.html';
            } else {
                return bno;
            }
        }

        const getResult = async (bno) => {
            const url = 'http://192.168.0.34:8081/board/'
            return await $.ajax(url + bno)
        }

        const printBoard = ({ bno, content, title, writer, writeTime, attachment }) => {
            const $list = $('#list')

            const $tr = $('<tr>').appendTo($list)
            $('<td>').text(bno).appendTo($tr);
            const $tr2 = $('<tr>').appendTo($list)
            $('<td>').text(content).appendTo($tr2);
            const $tr3 = $('<tr>').appendTo($list)
            $('<td>').text(title).appendTo($tr3);
            const $tr4 = $('<tr>').appendTo($list)
            $('<td>').text(writer).appendTo($tr4);
            const $tr5 = $('<tr>').appendTo($list)
            $('<td>').text(writeTime).appendTo($tr5);
            const $tr6 = $('<tr>').appendTo($list)
            const $td = $('<td>').appendTo($tr6);
            $('<img>').attr('src', attachment).appendTo($td)

        }
        $(document).ready(async function () {
            const bno = getBno();
            const result = await getResult(bno);
            console.log(result)
            printBoard(result);
        })
    </script>
</head>

<body>
    <table>
        <tbody id="list">

        </tbody>
    </table>
</body>

</html>