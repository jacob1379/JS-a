<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Document</title>
</head>

<body>
    <button id="btn">1</button>
    <button id="btn1">1</button>
    <script>
        // 버튼을 클릭하면 ajax통신을 한 다음 값을 증가시킨다(this 사용)
        $('#btn').click(function () {
            // 이벤트 핸들러에서 this는 이벤트가 발생한 곳
            console.log($(this));  // 버튼
            $.ajax('http://sample.bmaster.kro.kr/contacts')
                .done(function (result) {
                    // $.ajax의 성공 핸들러에서 this는 서버의 응답
                    console.log($(this));  // 데이터 값들 (위의 this랑 다름)
                    $(this).text(2);
                })
        });

        // this 값을 변하지 않게 하려면
        $('#btn1').click(function () {
            console.log(this);
            const _this = this; // this를 저장하자
            $.ajax('http://sample.bmaster.kro.kr/contacts')
                .done(function (result) {
                    console.log(this);
                    $(_this).text(2);
                })
        })

        // this가 헷갈릴때 사용할 수 있는 변수
    </script>
</body>

</html>